<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#000000">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script type="text/javascript">
    window.onload = () => {
      renderPhoto(10);
      resizePhototable();

      window.onresize = () => {
        resizePhototable();
      }
    }

    var resizePhototable = () => {
      var wScreen = document.body.clientWidth;
      var wBlock = parseInt(getComputedStyle( document.getElementsByClassName("photo-cell")[0] ).width);
    
      phototable.style.width = Math.floor( wScreen/wBlock)*(wBlock+6) + "px"; 
    } 

    let renderPhoto = (num) => {
      for(let i = 0;i < num; i++){
    		phototable.innerHTML+=`
    		<div class="photo-cell">
    		  <div class="edit">edit</div>
    		  <div class="delete">delete</div>
          <div class="photo">
            <img src="./img/photo/`+i+`.jpg" class="photo-img"/>
          </div>
          <div class="author">@user`+i+`</div>
          <div class="photo-info-short">
            <div class="like-info">
              <img src="./img/like/like-outline.png" onclick="like(this)" class="like"/>
              <div  class="like-num">`+(i+23)+`</div>
            </div>
            <div class="hashtags">
              #hashtag1 #hashtag2
            </div>
            <div class="post-date">
              08.02.2018 12:24
            </div>
            <div class="discription">
               This is an amazing photo! Do you like it?
            </div>
          </div>
        </div>`;

        if(i==1){
          document.getElementsByClassName('delete')[1].style.visibility = 'visible';
          document.getElementsByClassName('edit')[1].style.visibility = 'visible';
        }
      }
    }

    var like = (target) => {
    	var like_outline = new RegExp(".*like-outline.png");
    	var like = new RegExp(".*like.png");
    	if(like_outline.test(target.src)){
    		target.src ="./img/like/like.png";
    	}
    	else if (like.test(target.src)){
    		target.src="./img/like/like-outline.png";
    	}
    }
    </script>
    <link rel="SHORTCUT ICON" href="./img/logo/small-logo.gif" type="image/gif">
    <title>MyPhotoPortal</title>
  </head>
  <body>
    <div id="header">
      <img id="big-logo" src="./img/logo/big-logo.png"/>
      <div id="log">
        <span id="username">@user1</span>
        <span id="sign-out">Sign out</span>
      </div>
    </div>
    <div id="content">
      <div id="configrations">
        <form action="" method="post" id="filt-by-name">
          <input type="text" id="filt-input-name" name="filt-input-name" placeholder="name">
        </form>
        <form action="" method="post" id="filt-by-date">
          <input type="date" id="filt-input-date-from" name="filt-input-date">
          -
          <input type="date" id="filt-input-date-to" name="filt-input-date-to">
        </form>
        <form action="" method="post" id="filt-by-hashtag">
          <input type="text" list="hashtag-list" name="filt-input-hashtag" id="filt-input-hashtag" pattern="#[A-Za-z_0-9]+" placeholder="#hashtag">
          <datalist id="hashtag-list">
            <option>#hashtag1</option>
            <option>#hashtag2</option>
            <option>#spring</option>
            <option>#winter</option>
            <option>#summer</option>
            <option>#autumn</option>
          </datalist>
        </form>
      </div>
      <form action=""  method="post" name="add-photo">
        <input type="button" value="Add photo" class="add-btn"/>
      </form>
      <div id="phototable">
      </div>
      <form action="" method="post" name="show-more-photo"><input type="button" value="More" class="more-btn"/></form>
    </div>
    <div id="footer">
      <span id="portal-info">MyPhotoPortal, 24.02.2018</span>
      <span id="admin-info">Сосинович Екатерина, 2 курс 7 группа, orient.ks@gmail.com</span>
    </div>
  </body>
</html>
